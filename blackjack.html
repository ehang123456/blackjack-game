<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>21ç‚¹å°æ¸¸æˆ - è¿›é˜¶ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .game-container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            max-width: 700px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #2a5298;
            margin-bottom: 20px;
            font-size: 28px;
        }
        
        .rules {
            background: #e8f4f8;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 13px;
            color: #555;
        }
        
        .rules strong {
            color: #2a5298;
        }
        
        .info-panel {
            background: #f0f4f8;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            font-size: 14px;
        }
        
        .info-item {
            display: flex;
            justify-content: space-between;
        }
        
        .info-label {
            color: #666;
        }
        
        .info-value {
            font-weight: bold;
            color: #2a5298;
        }
        
        .bet-strategy {
            background: #fff3cd;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 20px;
            text-align: center;
            border: 2px solid #ffc107;
        }
        
        .bet-strategy-title {
            font-size: 14px;
            color: #856404;
            margin-bottom: 8px;
        }
        
        .bet-sequence {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .bet-item {
            padding: 8px 16px;
            border-radius: 20px;
            background: #ddd;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .bet-item.active {
            background: #28a745;
            color: white;
            transform: scale(1.1);
            box-shadow: 0 3px 10px rgba(40,167,69,0.3);
        }
        
        .bet-item.completed {
            background: #17a2b8;
            color: white;
        }
        
        .cards-area {
            min-height: 140px;
            margin-bottom: 20px;
        }
        
        .hand-section {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
        }
        
        .hand-title {
            font-size: 16px;
            color: #444;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .hand-status {
            font-size: 13px;
            padding: 4px 10px;
            border-radius: 12px;
            background: #6c757d;
            color: white;
        }
        
        .hand-status.blackjack {
            background: #28a745;
        }
        
        .hand-status.bust {
            background: #dc3545;
        }
        
        .cards {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            min-height: 90px;
        }
        
        .card {
            width: 65px;
            height: 90px;
            background: white;
            border: 2px solid #333;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            padding: 6px;
            font-size: 16px;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.2);
            animation: dealCard 0.3s ease-out;
        }
        
        @keyframes dealCard {
            from {
                transform: translateY(-50px) rotateY(90deg);
                opacity: 0;
            }
            to {
                transform: translateY(0) rotateY(0);
                opacity: 1;
            }
        }
        
        .card.hidden {
            background: linear-gradient(45deg, #b00 25%, #900 25%, #900 50%, #b00 50%, #b00 75%, #900 75%);
            background-size: 20px 20px;
        }
        
        .card.red {
            color: #d00;
            border-color: #d00;
        }
        
        .card-corner {
            font-size: 14px;
            line-height: 1;
            font-weight: bold;
        }
        
        .card-center {
            text-align: center;
            font-size: 28px;
        }
        
        .controls {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 14px 28px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            min-width: 100px;
        }
        
        .btn-hit {
            background: #28a745;
            color: white;
        }
        
        .btn-stand {
            background: #dc3545;
            color: white;
        }
        
        .btn-double {
            background: #ffc107;
            color: #333;
        }
        
        .btn-new {
            background: #2a5298;
            color: white;
        }
        
        .btn-restart {
            background: #17a2b8;
            color: white;
        }
        
        button:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        
        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .message {
            text-align: center;
            padding: 18px;
            border-radius: 10px;
            margin-top: 15px;
            font-size: 18px;
            font-weight: bold;
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .message.win {
            background: #d4edda;
            color: #155724;
            border: 2px solid #28a745;
        }
        
        .message.lose {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #dc3545;
        }
        
        .message.push {
            background: #fff3cd;
            color: #856404;
            border: 2px solid #ffc107;
        }
        
        .message.info {
            background: #d1ecf1;
            color: #0c5460;
            border: 2px solid #17a2b8;
        }
        
        .game-over {
            text-align: center;
            padding: 30px;
        }
        
        .game-over h2 {
            color: #dc3545;
            margin-bottom: 20px;
            font-size: 32px;
        }
        
        .final-stats {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: left;
        }
        
        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #dee2e6;
        }
        
        .stat-row:last-child {
            border-bottom: none;
        }
        
        .profit-positive {
            color: #28a745;
            font-weight: bold;
        }
        
        .profit-negative {
            color: #dc3545;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ğŸ° 21ç‚¹å°æ¸¸æˆ - è¿›é˜¶ç‰ˆ</h1>
        
        <div class="rules">
            <strong>æ¸¸æˆè§„åˆ™ï¼š</strong>èµ·å§‹ç­¹ç 12000ï¼Œä¸‹æ³¨ç­–ç•¥ 500â†’500â†’1000â†’2000 å¾ªç¯ã€‚
            <strong>èµ¢äº†æ¨è¿›</strong>åˆ°ä¸‹ä¸€çº§ï¼Œ<strong>è¾“äº†é‡ç½®</strong>åˆ°ç¬¬ä¸€çº§ï¼Œ<strong>å’Œå±€ä¿æŒ</strong>å½“å‰ã€‚
            Blackjackèµ”1.5å€ï¼Œåªæœ‰å‰ä¸¤çº§å¯åŠ å€ã€‚
        </div>
        
        <div class="info-panel">
            <div class="info-item">
                <span class="info-label">èµ·å§‹ç­¹ç :</span>
                <span class="info-value">12000</span>
            </div>
            <div class="info-item">
                <span class="info-label">å½“å‰ç­¹ç :</span>
                <span class="info-value" id="chips">12000</span>
            </div>
            <div class="info-item">
                <span class="info-label">æ€»å±€æ•°:</span>
                <span class="info-value" id="rounds">0</span>
            </div>
            <div class="info-item">
                <span class="info-label">æˆ˜ç»©:</span>
                <span class="info-value" id="record">0èƒœ 0è´Ÿ 0å’Œ</span>
            </div>
        </div>
        
        <div class="bet-strategy">
            <div class="bet-strategy-title">ğŸ¯ å½“å‰ä¸‹æ³¨ç­–ç•¥ï¼ˆè¾“äº†é‡ç½®ï¼Œèµ¢äº†æ¨è¿›ï¼‰</div>
            <div class="bet-sequence" id="betSequence">
                <div class="bet-item active" data-index="0">500</div>
                <div class="bet-item" data-index="1">500</div>
                <div class="bet-item" data-index="2">1000</div>
                <div class="bet-item" data-index="3">2000</div>
            </div>
        </div>
        
        <div class="cards-area">
            <div class="hand-section">
                <div class="hand-title">
                    <span>ğŸ´ åº„å®¶</span>
                    <span class="hand-status" id="dealerStatus">?</span>
                </div>
                <div class="cards" id="dealerCards"></div>
            </div>
            
            <div class="hand-section">
                <div class="hand-title">
                    <span>ğŸ´ ä½ ï¼ˆå½“å‰ä¸‹æ³¨: <span id="currentBet">500</span>ï¼‰</span>
                    <span class="hand-status" id="playerStatus">?</span>
                </div>
                <div class="cards" id="playerCards"></div>
            </div>
        </div>
        
        <div class="controls" id="controls">
            <button class="btn-new" onclick="startGame()">å¼€å§‹æ¸¸æˆ</button>
        </div>
        
        <div id="message"></div>
    </div>

    <script>
        // æ¸¸æˆé…ç½®
        const CONFIG = {
            START_CHIPS: 12000,
            BET_SEQUENCE: [500, 500, 1000, 2000],
            BLACKJACK_PAYOUT: 1.5,
            DEALER_HIT_THRESHOLD: 17
        };
        
        // æ¸¸æˆçŠ¶æ€
        let state = {
            chips: CONFIG.START_CHIPS,
            betIndex: 0,
            currentBet: CONFIG.BET_SEQUENCE[0],
            rounds: 0,
            wins: 0,
            losses: 0,
            pushes: 0,
            deck: [],
            playerHand: [],
            dealerHand: [],
            gameOver: false,
            playerTurn: false
        };
        
        // åˆå§‹åŒ–ç‰Œç»„
        function createDeck() {
            const suits = ['â™ ', 'â™¥', 'â™¦', 'â™£'];
            const ranks = [
                {rank: 'A', value: 11},
                {rank: '2', value: 2},
                {rank: '3', value: 3},
                {rank: '4', value: 4},
                {rank: '5', value: 5},
                {rank: '6', value: 6},
                {rank: '7', value: 7},
                {rank: '8', value: 8},
                {rank: '9', value: 9},
                {rank: '10', value: 10},
                {rank: 'J', value: 10},
                {rank: 'Q', value: 10},
                {rank: 'K', value: 10}
            ];
            
            let deck = [];
            // ä½¿ç”¨6å‰¯ç‰Œ
            for (let d = 0; d < 6; d++) {
                for (let suit of suits) {
                    for (let r of ranks) {
                        deck.push({
                            rank: r.rank,
                            suit: suit,
                            value: r.value,
                            isRed: suit === 'â™¥' || suit === 'â™¦'
                        });
                    }
                }
            }
            
            // æ´—ç‰Œ
            for (let i = deck.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [deck[i], deck[j]] = [deck[j], deck[i]];
            }
            
            return deck;
        }
        
        // è®¡ç®—æ‰‹ç‰Œç‚¹æ•°
        function calculateHand(hand) {
            let total = 0;
            let aces = 0;
            
            for (let card of hand) {
                if (card.rank === 'A') {
                    aces++;
                    total += 11;
                } else {
                    total += card.value;
                }
            }
            
            // Aä»11å˜ä¸º1
            while (total > 21 && aces > 0) {
                total -= 10;
                aces--;
            }
            
            return total;
        }
        
        // æ£€æŸ¥æ˜¯å¦ä¸ºBlackjack
        function isBlackjack(hand) {
            return hand.length === 2 && calculateHand(hand) === 21;
        }
        
        // æ£€æŸ¥æ˜¯å¦çˆ†ç‰Œ
        function isBust(hand) {
            return calculateHand(hand) > 21;
        }
        
        // åˆ›å»ºå¡ç‰ŒHTML
        function createCardHTML(card, hidden = false) {
            if (hidden) {
                return `<div class="card hidden"></div>`;
            }
            
            const colorClass = card.isRed ? 'red' : '';
            return `
                <div class="card ${colorClass}">
                    <div class="card-corner">${card.rank}</div>
                    <div class="card-center">${card.suit}</div>
                    <div class="card-corner" style="transform: rotate(180deg)">${card.rank}</div>
                </div>
            `;
        }
        
        // æ›´æ–°ä¸‹æ³¨ç­–ç•¥æ˜¾ç¤º
        function updateBetDisplay() {
            const items = document.querySelectorAll('.bet-item');
            items.forEach((item, index) => {
                item.classList.remove('active', 'completed');
                if (index < state.betIndex) {
                    item.classList.add('completed');
                } else if (index === state.betIndex) {
                    item.classList.add('active');
                }
            });
            
            document.getElementById('currentBet').textContent = state.currentBet;
        }
        
        // æ›´æ–°æ¸¸æˆä¿¡æ¯
        function updateInfo() {
            document.getElementById('chips').textContent = state.chips;
            document.getElementById('rounds').textContent = state.rounds;
            document.getElementById('record').textContent = 
                `${state.wins}èƒœ ${state.losses}è´Ÿ ${state.pushes}å’Œ`;
        }
        
        // æ›´æ–°æ‰‹ç‰Œæ˜¾ç¤º
        function updateHands(hideDealer = true) {
            const dealerCardsEl = document.getElementById('dealerCards');
            const playerCardsEl = document.getElementById('playerCards');
            
            // åº„å®¶æ‰‹ç‰Œ
            let dealerHTML = '';
            for (let i = 0; i < state.dealerHand.length; i++) {
                dealerHTML += createCardHTML(state.dealerHand[i], hideDealer && i === 0);
            }
            dealerCardsEl.innerHTML = dealerHTML;
            
            // ç©å®¶æ‰‹ç‰Œ
            let playerHTML = '';
            for (let card of state.playerHand) {
                playerHTML += createCardHTML(card);
            }
            playerCardsEl.innerHTML = playerHTML;
            
            // æ›´æ–°çŠ¶æ€
            const dealerTotal = calculateHand(state.dealerHand);
            const playerTotal = calculateHand(state.playerHand);
            
            const dealerStatusEl = document.getElementById('dealerStatus');
            const playerStatusEl = document.getElementById('playerStatus');
            
            if (hideDealer) {
                dealerStatusEl.textContent = '?';
                dealerStatusEl.className = 'hand-status';
            } else {
                dealerStatusEl.textContent = dealerTotal + 'ç‚¹';
                if (isBlackjack(state.dealerHand)) {
                    dealerStatusEl.textContent = 'BLACKJACK!';
                    dealerStatusEl.className = 'hand-status blackjack';
                } else if (isBust(state.dealerHand)) {
                    dealerStatusEl.textContent = 'çˆ†ç‰Œ!';
                    dealerStatusEl.className = 'hand-status bust';
                }
            }
            
            playerStatusEl.textContent = playerTotal + 'ç‚¹';
            if (isBlackjack(state.playerHand)) {
                playerStatusEl.textContent = 'BLACKJACK!';
                playerStatusEl.className = 'hand-status blackjack';
            } else if (isBust(state.playerHand)) {
                playerStatusEl.textContent = 'çˆ†ç‰Œ!';
                playerStatusEl.className = 'hand-status bust';
            } else {
                playerStatusEl.className = 'hand-status';
            }
        }
        
        // æ˜¾ç¤ºæ¶ˆæ¯
        function showMessage(text, type) {
            const msgEl = document.getElementById('message');
            msgEl.innerHTML = `<div class="message ${type}">${text}</div>`;
        }
        
        // æ›´æ–°ä¸‹æ³¨ç­–ç•¥ï¼ˆæ ¸å¿ƒé€»è¾‘ï¼‰
        function updateBetStrategy(result) {
            const oldBet = state.currentBet;
            
            if (result === -1) {
                // è¾“äº†ï¼šé‡ç½®åˆ°ç¬¬ä¸€çº§
                state.betIndex = 0;
                showMessage(`ğŸ“‰ è¾“äº†ï¼ç­–ç•¥é‡ç½®: ${oldBet} â†’ ${CONFIG.BET_SEQUENCE[0]}`, 'lose');
            } else if (result === 1) {
                // èµ¢äº†ï¼šæ¨è¿›åˆ°ä¸‹ä¸€çº§ï¼ˆå¾ªç¯ï¼‰
                const oldIndex = state.betIndex;
                state.betIndex = (state.betIndex + 1) % 4;
                const newBet = CONFIG.BET_SEQUENCE[state.betIndex];
                showMessage(`ğŸ“ˆ èµ¢äº†ï¼ä¸‹æ³¨æ¨è¿›: ${oldBet} â†’ ${newBet} (ç¬¬${state.betIndex + 1}/4çº§)`, 'win');
            } else {
                // å’Œå±€ï¼šä¿æŒä¸å˜
                showMessage(`ğŸ¤ å’Œå±€ï¼ä¿æŒä¸‹æ³¨: ${state.currentBet}`, 'push');
            }
            
            state.currentBet = CONFIG.BET_SEQUENCE[state.betIndex];
            updateBetDisplay();
        }
        
        // å¼€å§‹æ¸¸æˆ
        function startGame() {
            // æ£€æŸ¥ç­¹ç 
            if (state.chips < state.currentBet) {
                gameOver();
                return;
            }
            
            state.rounds++;
            state.gameOver = false;
            state.playerTurn = true;
            
            // é‡æ–°æ´—ç‰Œï¼ˆå¦‚æœç‰Œä¸å¤Ÿï¼‰
            if (state.deck.length < 20) {
                state.deck = createDeck();
            }
            
            // å‘ç‰Œ
            state.playerHand = [state.deck.pop(), state.deck.pop()];
            state.dealerHand = [state.deck.pop(), state.deck.pop()];
            
            updateInfo();
            updateHands(true);
            
            // æ£€æŸ¥Blackjack
            const playerBJ = isBlackjack(state.playerHand);
            const dealerBJ = isBlackjack(state.dealerHand);
            
            if (playerBJ || dealerBJ) {
                finishGame();
                return;
            }
            
            // æ˜¾ç¤ºæ“ä½œæŒ‰é’®
            showControls();
        }
        
        // æ˜¾ç¤ºæ“ä½œæŒ‰é’®
        function showControls() {
            const controlsEl = document.getElementById('controls');
            let html = `
                <button class="btn-hit" onclick="hit()">è¦ç‰Œ</button>
                <button class="btn-stand" onclick="stand()">åœç‰Œ</button>
            `;
            
            // åªæœ‰å‰ä¸¤çº§å¯ä»¥åŠ å€
            if (state.betIndex < 2 && state.chips >= state.currentBet * 2) {
                html += `<button class="btn-double" onclick="double()">åŠ å€</button>`;
            }
            
            controlsEl.innerHTML = html;
        }
        
        // è¦ç‰Œ
        function hit() {
            state.playerHand.push(state.deck.pop());
            updateHands(true);
            
            if (isBust(state.playerHand)) {
                finishGame();
            }
        }
        
        // åœç‰Œ
        function stand() {
            state.playerTurn = false;
            dealerTurn();
        }
        
        // åŠ å€
        function double() {
            state.currentBet *= 2;
            state.playerHand.push(state.deck.pop());
            updateHands(true);
            state.playerTurn = false;
            
            setTimeout(() => {
                dealerTurn();
            }, 500);
        }
        
        // åº„å®¶å›åˆ
        function dealerTurn() {
            updateHands(false);
            
            // åº„å®¶è‡ªåŠ¨è¦ç‰Œï¼ˆç‚¹æ•°<17ï¼‰
            function dealerHit() {
                const dealerTotal = calculateHand(state.dealerHand);
                
                if (dealerTotal < CONFIG.DEALER_HIT_THRESHOLD) {
                    setTimeout(() => {
                        state.dealerHand.push(state.deck.pop());
                        updateHands(false);
                        dealerHit();
                    }, 800);
                } else {
                    finishGame();
                }
            }
            
            dealerHit();
        }
        
        // ç»“æŸæ¸¸æˆå¹¶ç»“ç®—
        function finishGame() {
            state.gameOver = true;
            updateHands(false);
            
            const playerTotal = calculateHand(state.playerHand);
            const dealerTotal = calculateHand(state.dealerHand);
            
            let result = 0; // -1=è¾“, 0=å’Œ, 1=èµ¢
            
            // æ£€æŸ¥Blackjack
            const playerBJ = isBlackjack(state.playerHand);
            const dealerBJ = isBlackjack(state.dealerHand);
            
            if (playerBJ && !dealerBJ) {
                // ç©å®¶Blackjackï¼Œèµ”1.5å€
                const winAmount = Math.floor(state.currentBet * CONFIG.BLACKJACK_PAYOUT);
                state.chips += winAmount;
                state.wins++;
                result = 1;
                showMessage(`ğŸ° BLACKJACK! èµ¢å¾— ${winAmount} ç­¹ç !`, 'win');
            } else if (!playerBJ && dealerBJ) {
                // åº„å®¶Blackjack
                state.chips -= state.currentBet;
                state.losses++;
                result = -1;
            } else if (playerBJ && dealerBJ) {
                // åŒæ–¹Blackjackï¼Œå¹³å±€
                state.pushes++;
                result = 0;
            } else if (isBust(state.playerHand)) {
                // ç©å®¶çˆ†ç‰Œ
                state.chips -= state.currentBet;
                state.losses++;
                result = -1;
            } else if (isBust(state.dealerHand)) {
                // åº„å®¶çˆ†ç‰Œ
                state.chips += state.currentBet;
                state.wins++;
                result = 1;
            } else if (playerTotal > dealerTotal) {
                // ç©å®¶ç‚¹æ•°å¤§
                state.chips += state.currentBet;
                state.wins++;
                result = 1;
            } else if (playerTotal < dealerTotal) {
                // åº„å®¶ç‚¹æ•°å¤§
                state.chips -= state.currentBet;
                state.losses++;
                result = -1;
            } else {
                // å¹³å±€
                state.pushes++;
                result = 0;
            }
            
            // å¦‚æœä¸æ˜¯Blackjackç‰¹æ®Šæƒ…å†µï¼Œä½¿ç”¨æ ‡å‡†ç­–ç•¥æ›´æ–°
            if (!(playerBJ && !dealerBJ)) {
                updateBetStrategy(result);
            }
            
            updateInfo();
            
            // æ£€æŸ¥ç ´äº§
            if (state.chips <= 0) {
                setTimeout(gameOver, 1500);
                return;
            }
            
            // æ˜¾ç¤ºä¸‹ä¸€å±€æŒ‰é’®
            document.getElementById('controls').innerHTML = 
                `<button class="btn-new" onclick="startGame()">ä¸‹ä¸€å±€</button>`;
        }
        
        // æ¸¸æˆç»“æŸ
        function gameOver() {
            const profit = state.chips - CONFIG.START_CHIPS;
            let profitClass = '';
            let profitText = '';
            
            if (profit > 0) {
                profitClass = 'profit-positive';
                profitText = `+${profit}`;
            } else if (profit < 0) {
                profitClass = 'profit-negative';
                profitText = `${profit}`;
            } else {
                profitText = '0';
            }
            
            document.querySelector('.game-container').innerHTML = `
                <div class="game-over">
                    <h2>ğŸ’¸ æ¸¸æˆç»“æŸ!</h2>
                    <div class="final-stats">
                        <div class="stat-row">
                            <span>èµ·å§‹ç­¹ç :</span>
                            <span>${CONFIG.START_CHIPS}</span>
                        </div>
                        <div class="stat-row">
                            <span>æœ€ç»ˆç­¹ç :</span>
                            <span>${state.chips}</span>
                        </div>
                        <div class="stat-row">
                            <span>ç›ˆäº:</span>
                            <span class="${profitClass}">${profitText}</span>
                        </div>
                        <div class="stat-row">
                            <span>æ€»å±€æ•°:</span>
                            <span>${state.rounds}</span>
                        </div>
                        <div class="stat-row">
                            <span>æˆ˜ç»©:</span>
                            <span>${state.wins}èƒœ ${state.losses}è´Ÿ ${state.pushes}å’Œ</span>
                        </div>
                        <div class="stat-row">
                            <span>èƒœç‡:</span>
                            <span>${state.rounds > 0 ? (state.wins / state.rounds * 100).toFixed(1) : 0}%</span>
                        </div>
                    </div>
                    <button class="btn-restart" onclick="location.reload()">é‡æ–°å¼€å§‹</button>
                </div>
            `;
        }
        
        // åˆå§‹åŒ–
        state.deck = createDeck();
        updateInfo();
        updateBetDisplay();
    </script>
</body>
</html>